FROM artifactory-ekide.eroski.es/eroski-docker/library/eclipse-temurin:17-jdk-alpine
ENV LDAP_URL $LDAP_URL
ENV LDAP_BASE $LDAP_BASE
ENV LDAP_USERDN $LDAP_USERDN
ENV LDAP_PASSWORD $LDAP_PASSWORD
ENV POSTGRESQL_USERNAME $POSTGRESQL_USERNAME
ENV POSTGRESQL_PASSWORD $POSTGRESQL_PASSWORD
ENV POSTGRESQL_URL $POSTGRESQL_URL
ENV APPPRETEST $APPPRETEST
ENV ADMIN_USER_CREDENTIALS $ADMIN_USER_CREDENTIALS
ARG ARTIFACT_ID
ARG VERSION
COPY target/$ARTIFACT_ID-$VERSION.jar app.jar
ENTRYPOINT ["java", "-jar","/app.jar"]